#labels Kernel,Makefile
== Linux内核（v2.6.26）Makefile编译生成内核目标文件的过程 ==


先找到入口点为：

编译内核line502：

{{{

all: vmlinux  ## 编译内核line502

}}}

编译模块line1037：
{{{

ifdef CONFIG_MODULES

# By default, build modules as well

all: modules

#	Build modules
#
#	A module can be listed more than once in obj-m resulting in
#	duplicate lines in modules.order files.  Those are removed
#	using awk while concatenating to the final file.
}}}
然后继续找vmlinux目标line806：
{{{
# vmlinux image - including updated kernel symbols
vmlinux: $(vmlinux-lds) $(vmlinux-init) $(vmlinux-main) vmlinux.o $(kallsyms.o) FORCE
ifdef CONFIG_HEADERS_CHECK
	$(Q)$(MAKE) -f $(srctree)/Makefile headers_check
endif
ifdef CONFIG_SAMPLES
	$(Q)$(MAKE) $(build)=samples
endif
	$(call vmlinux-modpost)
	$(call if_changed_rule,vmlinux__)
	$(Q)rm -f .old_version

# build vmlinux.o first to catch section mismatch errors early
ifdef CONFIG_KALLSYMS
.tmp_vmlinux1: vmlinux.o
endif
}}}


= References =
 * [LinuxMakefileAnalysis Linux内核源代码中的Makefile分析] 
 * /Documentation/kbuild/makefiles.txt - This document describes the Linux kernel Makefiles.[http://hi.baidu.com/wjq_qust/blog/item/97ddbdfdfb2e541309244d30.html 中文译稿]
 * [LinuxKernelConfig 配置内核过程]
 * [LinuxKernelMakefileStartPoint 入口点的问题]
 * [LinuxKernelCompiling 编译生成内核目标文件的过程]