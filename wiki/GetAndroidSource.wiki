#labels GetAndroidSource
= Step by step,Get Android Source based on [http://code.google.com/p/vmware-ubuntu/ VMware Player 2.5.2 & Ubuntu 8.04 Image]  =
首先，你要确认您的VMware Player 2.5.2 & Ubuntu 8.04 Image运行之后可以正常连接互联网。然后再执行以下步骤。
 * set up your Linux development environment
{{{
#必备的开发环境和工具
sw2@sw2-desktop:~$ sudo apt-get install git-core gnupg sun-java5-jdk flex bison gperf libsdl-dev libesd0-dev libwxgtk2.6-dev build-essential zip curl libncurses5-dev zlib1g-dev
...
#一个开发工具，可以帮助找出memory leaks, stack corruption, array bounds overflows, etc.
sw2@sw2-desktop:~$ sudo apt-get install valgrind
...
#为什么lib32readline5-dev不存在？？？
sw2@sw2-desktop:~$ sudo apt-get install lib32readline5-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
E: Couldn't find package lib32readline5-dev
}}}
 * Installing Repo
{{{
sw2@sw2-desktop:~$ cd ~
sw2@sw2-desktop:~$ mkdir bin
sw2@sw2-desktop:~$ gedit .bashrc
#在.bashrc文件末尾加上export PATH=$PATH:/home/sw2/bin然后保存，并重新打开shell控制窗口
sw2@sw2-desktop:~$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/home/sw2/bin
#从上面可以看到/home/sw2/bin已经在PATH目录中了

#下载repo
sw2@sw2-desktop:~$ curl http://android.git.kernel.org/repo >~/bin/repo
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 17211    0 17211    0     0   4662      0 --:--:--  0:00:03 --:--:-- 17736
sw2@sw2-desktop:~$ chmod a+x ~/bin/repo
}}}
 * Initializing a Repo client
{{{
sw2@sw2-desktop:~$ mkdir mydroid
sw2@sw2-desktop:~$ cd mydroid
sw2@sw2-desktop:~/mydroid$ repo init -u git://android.git.kernel.org/platform/manifest.git
gpg: keyring `/home/sw2/.repoconfig/gnupg/secring.gpg' created
gpg: keyring `/home/sw2/.repoconfig/gnupg/pubring.gpg' created
gpg: /home/sw2/.repoconfig/gnupg/trustdb.gpg: trustdb created
gpg: key 920F5C65: public key "Repo Maintainer <repo@android.kernel.org>" imported
gpg: Total number processed: 1
gpg:               imported: 1

Getting repo ...
...   #省略大量输出信息
Your Name  [sw2]: #输出您的名字
Your Email [sw2@sw2-desktop.(none)]: 输入您的google账号

Your identity is: 您的名字 <您的google账号>
is this correct [yes/no]? yes

Testing colorized output (for 'repo diff', 'repo status'):
  black    red      green    yellow   blue     magenta   cyan     white 
  bold     dim      ul       reverse 
Enable color display in this user account (y/n)? y

repo initialized in /home/sw2/mydroid


}}}
 * 获取源代码文件
可能下载过程中会遇到git://android.git.kernel.org.............: errno=Connection refused
....
fatal: unable to connect a socket(connection refused)的问题，原因是您所在的intranet封掉了Git的端口。[http://blog.csdn.net/truewell/archive/2009/08/19/4462225.aspx  解决方法...]
{{{
sw2@sw2-desktop:~/mydroid$ repo sync
#需要很长时间的下载过程
...
Syncing work tree: 100% (142/142), done.  

sw2@sw2-desktop:~/mydroid$ 

}}}