#内核配置详解(一)

= 内核配置详解 =

 # 将 Linux2. 6.22. 2 内核源码放到工作目录的 kerne l 文件夹下,并解压
    * tar xzvf linux2.6.22.2.tar.gz
    * cd linux2.6.22.2
    进入内核解压后的目录
 # 修改内核源码根目录下的 Makefile 文 件
    * vi Makefile
      修改Makefile
    {{{ #SUBARCH := $(shell uname -m | sed -e s/i.86/i386/ -e s/sun4u/sparc64/ \
           #          -e s/arm.*/arm/ -e s/sa110/arm/ \
           #          -e s/s390x/s390/ -e s/parisc64/parisc/ \
           #          -e s/ppc.*/powerpc/ -e s/mips.*/mips/ )
           ......

             ARCH    = arm

             CROSS_COMPILE = /home/qinguoli/usr/local/bin/arm-linux-

   }}}
 # 修改 arch/arm/plat-s3c24xx/common-smdk.c文件,修改 Nand Flash 的分
区信息和 Nand Flash 的硬件信息
    {{{static struct mtd_partition smdk _default_nand_part[] = {
 [0] = {
  .name = "U-Boot-1.2.0",
  .size  = SZ_128K,
  .offset = 0,
 },
[1] = {
  .name = "U-Boot-1.2.0 Parameter",
  .offset = SZ_128K,
  .size = SZ_64K,
 },
    [2] = {
  .name = "Linux2.6.22.2 Kernel",
  .offset = SZ_128K+SZ_64K,
  .size = SZ_4M+(SZ_1M-SZ_128K-SZ_64K),
 },
    [3] = {
   .name = "Root-JFFS2",
  .offset = SZ_1M * 5,
  .size = SZ_1M * 5,
 },
    [4] = { .name = "Boot-Root(cramf s)",
.offset = SZ_1M * 10,
.size = SZ_1M * 10,
},
   [5] = {
 .name = "YAFFS",
.offset = SZ_1M * 20,
.size = SZ_1M * 44,
}
 /*, [6] = {
 .name = "S3C2410 flash partition 6",
 .offset = SZ_1M * 24,
   .size = SZ_1M * 24,
   },
   [7] = {
  .name = "S3C2410 flash partition 7",
    .offset = SZ_1M * 48,
    .size = SZ_16M,
   }
 */
 };

}}}

    
= Details =

Add your content here.  Format your content with:
  * Text in *bold* or _italic_
  * Headings, paragraphs, and lists
  * Automatic links to other wiki pages